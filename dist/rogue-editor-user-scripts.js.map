{"version":3,"file":"rogue-editor-user-scripts.js","mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;;;;ACVA;AACA;AAEe,+BAA+B,mDAAY,CAAC;AAAA,EAA3D,cAHA;AAGA;AAEU,kCAAyB,EAAC,MAAM,MAAM;AAAA;AACtC,oCAA2B,EAAC,MAAM,MAAM;AAAA;AACxC,+BAAsB,EAAC,MAAM,MAAM;AAAA;AA6B3C,iBAAQ,6BAAM;AAEZ,kEAAqB,CAAC,eAAa;AACjC,YAAI,CAAE,sBAAqB,sDAAU;AAAG;AACxC,kBAAU;AAAA;AAGZ,+EAA6B;AAAlB,OAPL;AAAA;AAAA,EA3BR,QAAQ;AACN,SAAK;AACL,SAAK,wBAAwB;AAC7B,SAAK,0BAA0B;AAE/B,SAAK,sBAAsB,uDAAgB,CAAC,SAAO;AACjD,2DAAc,CAAC,MAAM;AACnB,cAAM,OAAO,0DAAc,CAAC;AAC5B,YAAI,MAAM;AACR,eAAK;AAAA;AAAA;AAAA;AAIX,SAAK,yBAAyB,0DAAmB,CAAC,KAAK;AACvD,SAAK,2BAA2B,4DAAqB,CAAC,UAAQ;AAC5D,UAAI,CAAE,iBAAgB,sDAAU;AAAG;AACnC,WAAK,YAAY;AAAA;AAGnB,UAAM,SAAS,wDAAiB,CAAC,MAAM;AACrC,WAAK,uBAAuB;AAC5B,WAAK,yBAAyB;AAC9B,WAAK,oBAAoB;AACzB,aAAO;AAAA;AAAA;AAAA,EAcX,SAAS;AACP,UAAM,EAAC,aAAa,iBAAgB,+EAAwC;AAC5E,UAAM,EAAC,OAAO,WAAU,uEAA2B;AAEnD,QAAI,gBAAgB,SAAS,iBAAiB,QAAQ;AACpD,6EAA2B,CAAC,aAAa;AAAA;AAG3C,0EAA0B,CAAC,mEAA4B,EAAE,oEAA6B;AAEtF,gEAAqB,CAAC,eAAa;AACjC,UAAI,CAAE,sBAAqB,sDAAU;AAAG;AACxC,gBAAU,YAAY,SAAS,KAAK,UAAU;AAAA;AAAA;AAAA;AAvDpD;AACS,qCAAoB;AA2D7B,2DAAoB,CAAC","sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/./Assets/rogue_packages/RogueEngine/rogue-css2d/_Editor/RogueCSS2DEditor.re.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rogue-editor-user-scripts\"] = factory();\n\telse\n\t\troot[\"rogue-editor-user-scripts\"] = factory();\n})(self, function() {\nreturn ","import * as RE from 'rogue-engine';\nimport RogueCSS2D from '../RogueCSS2D.re';\n\nexport default class RogueCSS2DEditor extends RE.Component {\n  static isEditorComponent = true;\n  private handleOnComponentAdded = {stop: () => {}};\n  private handleOnComponentRemoved = {stop: () => {}};\n  private handleOnObjectAdded = {stop: () => {}};\n\n  start() {\n    this.setUp();\n    this.handleOnComponentAdded?.stop();\n    this.handleOnComponentRemoved?.stop();\n\n    this.handleOnObjectAdded = RE.onObjectAdded(obj => {\n      RE.onNextFrame(() => {\n        const comp = RogueCSS2D.get(obj);\n        if (comp) {\n          this.setUp();\n        }\n      })\n    });\n    this.handleOnComponentAdded = RE.onComponentAdded(this.setUp);\n    this.handleOnComponentRemoved = RE.onComponentRemoved(comp => {\n      if (!(comp instanceof RogueCSS2D)) return;\n      comp.css2DObject.removeFromParent();\n    });\n\n    const onPlay = RE.Runtime.onPlay(() => {\n      this.handleOnComponentAdded.stop();\n      this.handleOnComponentRemoved.stop();\n      this.handleOnObjectAdded.stop();\n      onPlay.stop();\n    });\n  }\n\n  setUp = () => {\n    // console.log(\"added!\", component)\n    RE.traverseComponents(component => {\n      if (!(component instanceof RogueCSS2D)) return;\n      component.setupLabel();\n    });\n\n    RogueCSS2D.setupLabelRenderer();\n  }\n\n  update() {\n    const {clientWidth, clientHeight} = RE.App.sceneController.rogueDOMContainer;\n    const {width, height} = RogueCSS2D.renderer.getSize();\n\n    if (clientWidth !== width || clientHeight !== height) {\n      RogueCSS2D.renderer.setSize(clientWidth, clientHeight);\n    }\n\n    RogueCSS2D.renderer.render(RE.App.sceneController.scene, RE.App.sceneController.camera);\n\n    RE.traverseComponents(component => {\n      if (!(component instanceof RogueCSS2D)) return;\n      component.css2DObject.position.copy(component.offset);\n    });\n  }\n}\n\nRE.registerComponent(RogueCSS2DEditor);\n        "],"names":[],"sourceRoot":""}